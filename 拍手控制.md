tags:: 项目 [[传感器与数据项目]] 
url:: https://wiki.microblocks.fun/community_projects/clap_control
op:: 邵悦 [[2023-01-02]]

-
- ## 概述
- 如果你的板子有一个麦克风，它可以检测到拍手声（或其他响声）。Microphone库中的clap count块可以用来计算一连串的拍手声。拍手的次数可以用来触发不同的反应，比如在micro:bit显示器上显示不同的表情。通过选择具有正确音节数的命令并大声说话，你可以用你的声音而不是拍手来发布命令。
## 脚本
- ![clapcontrol.png](../assets/clapcontrol_1672663884131_0.png)
- ## 流程
- 从传感器文件夹中添加麦克风库，并创建脚本或下载并导入项目。启动项目，然后连续拍手数次。拍手的次数将被显示出来。某些数量的拍手也会触发反应。拍手一次会显示一个皱眉头的表情，拍手两次会显示一个开心的表情，而拍手三次则会清除显示。
  
  你可能需要调整拍手阈值以达到最佳效果。如果你在嘈杂的房间里，你可能需要提高阈值。你可以打开图表，运行绘图脚本，看看当你拍手和说话时，响度如何变化。当你安静地说话时，阈值应该比图中的最高峰略高一点。这个水平将允许你通过提高声音来说命令。
- ## 讨论
- 这个项目使用Microphone库中的clap count块，它又使用响度块来检测响度曲线中的尖峰。为了更好地了解它的工作原理，你可以绘制响度图。下面是一个用普通声音说话的图表。
- ![声音图表1.png](../assets/声音图表1_1672664229522_0.png)
- 这里是一张拍手的图表。它显示了一次拍手，然后是一个小的停顿，然后是三个紧挨着的拍手。
- ![声音图片2.png](../assets/声音图片2_1672664262106_0.png)
- 拍手计数器通过检测与拍手有关的尖峰来工作。它通过感知响度超过设定的拍手阈值块的水平来实现。你可能需要根据你的麦克风的灵敏度和环境中的背景噪音量来调整该阈值。
- 如果你选择了正确的词语，并小心翼翼地说出它们，你可以用语音命令来代替拍手。要做到这一点，你需要大声说出每个音节，并在音节之间留出一点空间。你可能还需要调整阈值。这张图显示了 "哭"、"快乐 "和 "去睡觉 "三个命令。
- ![声音图片3.png](../assets/声音图片3_1672664305715_0.png)
- 你会注意到，这些命令有一个、两个和三个音节，所以它们触发的动作与一个、两个或三个拍子相同。真正的语音识别要比这复杂得多。它不仅考虑到响度，还考虑到声音信号的音高和频谱。语音识别系统可以区分具有相同数量响度峰值的单词，而这个简单的拍手计数器会对任何一个单音节的单词触发 "一次拍手 "的反应。
-
- ---
- **项目下载**
   [拍手控制.ubp](../assets/拍手控制_1672664387958_0.ubp)